{"stack":[],"visitorData":{"scope":"function:global","filename":"/workspaces/Glacier/tests/pong/engine.gs","function":{"node":"function","name":"gfx.clearScreen","params":[{"name":"text","type":"string"}],"type":"void","children":[]},"imports":1,"class":{"node":"class","name":"Number","extends":["base"],"children":[{"node":"function","name":"init","params":[{"name":"number","type":"num24"}],"type":"void","children":[]},{"node":"function","name":"getValue","params":[],"type":"num24","children":[]},{"node":"function","name":"toString","params":[],"type":"string","children":[]}]},"file":"\ngfx.clearScreen();\ngfx.setWindowSize([25,20])\ngfx.fillScreen([0,0,0])\nclass Game{\n    objects:Array<GameObject>\n    data:Object\n    constructor(){\n        this.objects=[]\n        this.data={}\n        while(true){\n            this.draw_frame()\n        }\n    }\n    draw_frame(){\n        gfx.fillScreen([0,0,0])\n        var objects=this.objects\n        for(var i=0;i<objects.length;i++){\n            objects[i].draw(this.data)\n        }\n    }\n    clearObjects(){\n        this.objects=[]\n    }\n    addObject(object:GameObject){\n        this.objects.push(object)\n    }\n}\nclass GameObject{\n    sprite:Number[][][]\n    position:Array<Number>\n    onFrame:Function\n    constructor(sprite:Number[][][],onFrame:Function){\n        this.sprite=sprite\n        this.onFrame=onFrame\n        this.position=[0,0]\n    }\n    draw(data:Object){\n        this.onFrame(data,this.sprite,this.position)\n        for(var x;x<this.sprite.length;x++){\n            for(var y;y<this.sprite[x].length;y++){\n                gfx.draw(x+this.position[0],y+this.position[1],this.sprite[x][y])\n            }\n        }\n    }\n}\n"}}